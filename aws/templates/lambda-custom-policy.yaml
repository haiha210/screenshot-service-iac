---
Version: "2012-10-17"
Statement:
  - Effect: Allow
    Action:
      - s3:GetObject
      - s3:PutObject
      - s3:DeleteObject
    Resource:
      - arn:aws:s3:::screenshots-storage-${env}/*

  - Effect: Allow
    Action:
      - dynamodb:GetItem
      - dynamodb:PutItem
      - dynamodb:UpdateItem
      - dynamodb:DeleteItem
      - dynamodb:Query
      - dynamodb:Scan
    Resource:
      - arn:aws:dynamodb:${region}:${account_id}:table/screenshots-metadata-${env}
      - arn:aws:dynamodb:${region}:${account_id}:table/analytics-events-${env}

  - Effect: Allow
    Action:
      - kinesis:PutRecord
      - kinesis:PutRecords
    Resource:
      - arn:aws:kinesis:${region}:${account_id}:stream/analytics-stream-${env}

  - Effect: Allow
    Action:
      - logs:CreateLogGroup
      - logs:CreateLogStream
      - logs:PutLogEvents
    Resource: arn:aws:logs:${region}:${account_id}:log-group:/aws/lambda/${project}-${env}-*
